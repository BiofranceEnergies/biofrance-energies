/* =================================================================
   1. VARIABLES & CONFIGURATION (THEME LIGHT SAAS 2025)
   ================================================================= */
:root {
  --maxw: 1200px;
  
  /* Palette de couleurs */
  --bg-page: #ffffff;       /* Fond principal */
  --bg-soft: #f8fafc;       /* Fond secondaire (sections alternées) */
  --ink: #0f172a;           /* Texte principal (Bleu nuit profond) */
  --muted: #475569;         /* Texte secondaire (Gris bleuté) */
  --border: #e2e8f0;        /* Bordures subtiles */

  /* Identité Visuelle */
  --brand: #0b4fbf;         /* Bleu de confiance (Titres, Logos) */
  
  /* ACTION (CTA) - Orange Énergie */
  --cta-grad-top: #f59e0b;  /* Ambre vif */
  --cta-grad-bot: #ea580c;  /* Orange brûlé */
  --cta-text: #ffffff;
  --cta-shadow: rgba(234, 88, 12, 0.4);

  /* Accents visuels (Icônes, Puces) */
  --accent-bg: #fff7ed;     /* Fond orange très pâle */
  --accent-stroke: #f97316; /* Trait orange */
}

/* =================================================================
   2. RESET & BASES
   ================================================================= */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  background: var(--bg-page);
  color: var(--ink);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* Accessibilité : lien pour passer le menu */
.skip-link {
  position: absolute; left: -9999px; width: 1px; height: 1px; overflow: hidden;
}
.skip-link:focus {
  position: fixed; left: 16px; top: 16px; width: auto; height: auto;
  padding: 10px 14px; background: #000; color: #fff; z-index: 9999; border-radius: 8px;
}

/* =================================================================
   3. HEADER & LOGOS
   ================================================================= */
.logo-header {
  position: absolute; top: 24px; left: 24px; z-index: 10;
}
.logo-header img {
  height: 80px; width: auto; display: block;
}

/* Logos RGE / QualiPV (Coin haut droit) */
.header-certifs {
  position: absolute; top: 32px; right: 24px; z-index: 10;
  display: flex; gap: 12px; align-items: center;
}
.certif-logo {
  height: 50px; width: auto;
  background: rgba(255,255,255,0.9);
  padding: 4px 8px; border-radius: 6px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

/* Ajustement Mobile des Logos */
@media (max-width: 768px) {
  .logo-header img { height: 40px; }
  .logo-header { top: 16px; left: 16px; }
  
  .header-certifs {
    top: 16px; right: 16px; gap: 6px;
  }
  .certif-logo {
    height: 28px !important; /* Force la petite taille */
    padding: 2px 4px;
    border-radius: 4px;
  }
}

/* =================================================================
   4. HERO SECTION (Haut de page)
   ================================================================= */
header.hero {
  position: relative;
  min-height: 780px; /* Assez haut pour respirer */
  display: flex;
  align-items: center;
  background-color: #f1f5f9;
  overflow: hidden;
}

/* Image de fond avec placement intelligent */
.hero__img {
  position: absolute; inset: 0; z-index: -2;
  width: 100%; height: 100%; object-fit: cover;
  object-position: 75% center; /* Décale la PAC vers la droite */
}

/* Le "Voile Blanc" pour rendre le texte lisible à gauche */
.hero::before {
  content: ""; position: absolute; inset: 0; z-index: -1;
  background: linear-gradient(
    90deg, 
    rgba(255,255,255,1) 0%, 
    rgba(255,255,255,0.95) 45%, 
    rgba(255,255,255,0.4) 70%, 
    rgba(255,255,255,0) 100%
  );
}

.hero__inner {
  width: 100%; max-width: var(--maxw); margin: 0 auto; padding: 0 24px;
  display: grid; grid-template-columns: 1fr auto; gap: 40px; align-items: center;
  position: relative; z-index: 1;
}

/* Textes du Hero */
.hero__intro {
  color: var(--brand); 
  font-weight: 700; font-size: 0.95rem; text-transform: uppercase;
  letter-spacing: 0.05em; margin-bottom: 12px;
}

.hero__copy h1 {
  color: var(--ink);
  font-size: clamp(32px, 4vw, 54px);
  line-height: 1.1; font-weight: 800;
  margin-bottom: 20px;
}

.hero__copy .lead {
  color: var(--muted);
  font-size: 1.15rem; font-weight: 500;
  max-width: 580px; margin-bottom: 24px;
}

/* Puces Hero (Coches vertes/noires) */
.hero-bullets { list-style: none; padding: 0; }
.hero-bullets li {
  display: flex; align-items: center; gap: 10px;
  margin-bottom: 8px; color: #334155; font-weight: 600;
}
.hero-bullets svg {
  width: 20px; height: 20px;
  fill: none; stroke: #16a34a; /* Vert confiance */
  stroke-width: 2.5; stroke-linecap: round; stroke-linejoin: round;
}

.hero-small {
  font-size: 0.8rem; color: #94a3b8; margin-top: 16px;
}

/* Mobile Hero */
@media (max-width: 900px) {
  header.hero { min-height: auto; padding: 100px 0 60px; display: block; }
  .hero__inner { grid-template-columns: 1fr; gap: 40px; }
  .hero__img { object-position: 65% center; opacity: 0.4; } /* On atténue l'image sur mobile */
  .hero::before { background: linear-gradient(180deg, #fff 0%, rgba(255,255,255,0.85) 100%); }
  .hero__copy h1 { font-size: 2rem; }
}

/* =================================================================
   5. LA CARTE FORMULAIRE (STYLE SAAS)
   ================================================================= */
.card {
  width: 460px; max-width: 100%;
  background: #ffffff;
  border-radius: 24px;
  box-shadow: 0 20px 40px -5px rgba(0,0,0,0.1), 0 0 0 1px rgba(0,0,0,0.03);
  overflow: hidden;
  margin-top: 20px;
}

.card__head {
  padding: 24px 24px 16px;
  border-bottom: 1px solid #f1f5f9;
  text-align: left;
}
.card__head .t1 { font-size: 1.25rem; font-weight: 700; color: var(--ink); display: block; }
.card__head .t2 { font-size: 0.95rem; color: var(--muted); margin-top: 4px; display: block; }

.card__body { padding: 24px; }

/* Barre de progression */
.card-progress { margin-bottom: 20px; }
.card-progress__text { font-size: 0.85rem; color: var(--muted); margin-bottom: 6px; text-align: right; }
.card-progress__bar {
  height: 6px; background: #f1f5f9; border-radius: 99px; overflow: hidden;
}
.card-progress__fill {
  height: 100%; background: var(--brand); width: 20%; transition: width 0.3s ease;
}

/* Champs de saisie (Inputs) */
.field { margin-bottom: 20px; }
.card-step__title { font-size: 1.1rem; font-weight: 700; margin-bottom: 8px; color: var(--ink); }
.card-step__question { font-size: 0.95rem; color: var(--muted); margin-bottom: 16px; }

.inp, .sel {
  width: 100%;
  padding: 14px 16px;
  border: 1px solid #cbd5e1;
  background: #f8fafc;
  border-radius: 12px;
  font-size: 1rem; color: var(--ink);
  transition: all 0.2s;
  outline: none; appearance: none;
}

.inp:focus, .sel:focus {
  background: #fff;
  border-color: var(--brand);
  box-shadow: 0 0 0 4px rgba(11, 79, 191, 0.1);
}
.inp::placeholder { color: #94a3b8; }

/* Boutons (Navigation Formulaire) */
.card-nav { display: flex; gap: 12px; margin-top: 24px; }

/* Bouton Secondaire (Retour) */
.btn-secondary {
  padding: 0 20px; height: 52px;
  background: transparent;
  border: 1px solid #e2e8f0; border-radius: 14px;
  color: var(--muted); font-weight: 600; cursor: pointer;
  transition: all 0.2s;
}
.btn-secondary:hover { background: #f1f5f9; color: var(--ink); }

/* BOUTON D'ACTION PRINCIPAL (CTA - Orange) */
.cta, #step-next {
  flex: 1; height: 52px;
  display: flex; align-items: center; justify-content: center;
  background: linear-gradient(135deg, var(--cta-grad-top), var(--cta-grad-bot));
  color: #fff; font-weight: 700; font-size: 1.05rem;
  border: none; border-radius: 14px;
  box-shadow: 0 4px 14px var(--cta-shadow);
  cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;
}

.cta:hover, #step-next:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px var(--cta-shadow);
  filter: brightness(1.05);
}

.form-note { font-size: 0.75rem; color: #94a3b8; margin-top: 16px; text-align: center; line-height: 1.4; }

/* =================================================================
   6. SECTIONS DE CONTENU (Alternance Blanc / Gris)
   ================================================================= */
section { padding: 80px 24px; }

/* Titres de section */
h2 { font-size: clamp(1.8rem, 3vw, 2.5rem); font-weight: 800; color: var(--ink); margin-bottom: 12px; text-align: center; }
.subtitle { text-align: center; color: var(--muted); font-size: 1.1rem; max-width: 700px; margin: 0 auto 48px; }

/* Grilles (Steps, Benefits) */
.sgrid, .bgrid, .prow, .mgrid {
  display: grid; gap: 24px; max-width: var(--maxw); margin: 0 auto;
}
.sgrid { grid-template-columns: repeat(3, 1fr); }
.bgrid { grid-template-columns: repeat(4, 1fr); }

/* Cartes "Steps" (1, 2, 3) */
.scard {
  background: #fff; border: 1px solid var(--border); border-radius: 16px; padding: 32px 24px;
  text-align: center; transition: transform 0.3s;
}
.scard:hover { transform: translateY(-5px); border-color: #cbd5e1; }

.sbullet {
  width: 50px; height: 50px; margin: 0 auto 20px;
  background: linear-gradient(135deg, var(--cta-grad-top), var(--cta-grad-bot));
  color: #fff; font-weight: 800; font-size: 1.2rem;
  border-radius: 50%; display: grid; place-items: center;
  box-shadow: 0 4px 12px var(--cta-shadow);
}
.scard h3 { font-size: 1.2rem; font-weight: 700; margin-bottom: 10px; color: var(--ink); }
.scard p { color: var(--muted); font-size: 0.95rem; }

/* Section Avantages (Fond gris doux) */
.benefits { background: var(--bg-soft); }
.bcard {
  background: #fff; border-radius: 16px; padding: 24px;
  border: 1px solid transparent; transition: all 0.3s;
  box-shadow: 0 4px 6px -1px rgba(0,0,0,0.02);
}
.bcard:hover { border-color: var(--cta-grad-top); transform: translateY(-4px); }

/* Icônes Orange */
.bicon, .micon, .picon {
  width: 48px; height: 48px; border-radius: 12px;
  background: var(--accent-bg); margin-bottom: 16px;
  display: grid; place-items: center;
}
.bicon svg, .micon svg, .picon svg {
  width: 24px; height: 24px; stroke: var(--accent-stroke); stroke-width: 2; fill: none;
}

/* =================================================================
   7. SECTION RÉSULTATS (Masqué par défaut)
   ================================================================= */
#recap { margin: 60px auto; max-width: 900px; display: none; }

.rc-wrap {
  background: #fff; border-radius: 20px; padding: 40px;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
  border: 1px solid var(--border);
  display: grid; grid-template-columns: 1fr 1fr; gap: 40px; align-items: start;
}

.rc-main__label { text-transform: uppercase; font-size: 0.85rem; font-weight: 700; color: var(--muted); letter-spacing: 1px; }
.rc-main__value {
  font-size: 4.5rem; line-height: 1; font-weight: 800;
  color: var(--cta-grad-bot); /* Gros Prix Orange */
  margin: 10px 0; text-shadow: 0 4px 10px rgba(234, 88, 12, 0.15);
}

.rc-details__list { list-style: none; margin-top: 20px; }
.rc-details__list li {
  display: flex; justify-content: space-between; border-bottom: 1px dashed var(--border);
  padding: 10px 0; font-size: 0.95rem;
}
.rc-details__list strong { color: var(--ink); }

/* Bloc Produit */
.prod { background: #fff; margin-top: 40px; }
.prod__inner { display: flex; gap: 40px; align-items: center; max-width: 900px; margin: 0 auto; }
.prod__img { max-width: 350px; width: 100%; }
.prod__price {
  background: var(--accent-bg); color: var(--cta-grad-bot);
  font-weight: 700; padding: 8px 16px; border-radius: 8px; display: inline-block; margin-top: 10px;
}

/* =================================================================
   8. TÉMOIGNAGES & FAQ
   ================================================================= */
.testi { background: #fff; border-top: 1px solid var(--border); }
.testi__grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 24px; max-width: var(--maxw); margin: 0 auto; }

.tcard {
  background: var(--bg-soft); border-radius: 16px; padding: 24px;
  border: 1px solid var(--border);
}
/* Étoiles Dorées */
.tcard__stars svg { width: 18px; height: 18px; fill: #fbbf24; }
.avatar {
  background: var(--accent-bg); color: var(--cta-grad-bot);
  width: 48px; height: 48px; border-radius: 50%; display: grid; place-items: center; font-weight: 700;
}

/* FAQ */
.faq { background: var(--bg-soft); }
.faq__item {
  background: #fff; border: 1px solid var(--border); border-radius: 12px;
  margin-bottom: 12px; overflow: hidden;
}
.faq__btn {
  width: 100%; text-align: left; padding: 20px; background: none; border: none;
  font-weight: 700; color: var(--ink); cursor: pointer;
  display: flex; justify-content: space-between; align-items: center;
}
.faq__btn:hover { color: var(--cta-grad-bot); }
.faq__btn::after {
  content: "+"; font-size: 1.5rem; color: var(--cta-grad-bot); font-weight: 300;
}
.faq__panel { padding: 0 20px 20px; display: none; color: var(--muted); }
.faq__item.is-open .faq__panel { display: block; }

/* =================================================================
   9. FOOTER & BANDEAU SMS
   ================================================================= */
/* Footer sombre pour l'ancrage */
.footer-cta {
  background: linear-gradient(to bottom, #1e293b, #0f172a);
  color: #fff; padding: 60px 24px; text-align: center;
}
.footer-cta h2 { color: #fff; }
.footer-cta .cta { display: inline-flex; width: auto; padding: 0 40px; margin-top: 20px; }

/* Bandeau SMS (Sticky Bottom) */
.tel-banner {
  position: fixed; bottom: 0; left: 0; right: 0;
  background: rgba(255,255,255,0.95); backdrop-filter: blur(10px);
  padding: 16px; border-top: 1px solid var(--border);
  box-shadow: 0 -4px 20px rgba(0,0,0,0.05); z-index: 100;
  display: none; justify-content: center;
}
.tel-banner--visible { display: flex; }

.tel-banner__form { display: flex; gap: 10px; align-items: center; width: 100%; max-width: 600px; }
.tel-banner__input { border-color: #cbd5e1; background: #fff; }
.tel-banner__label { font-size: 0.9rem; font-weight: 600; color: var(--ink); margin-right: 10px; }

/* =================================================================
   10. RESPONSIVE / MOBILE
   ================================================================= */
@media (max-width: 900px) {
  .sgrid, .bgrid, .tgrid, .testi__grid { grid-template-columns: 1fr; }
  .rc-wrap { grid-template-columns: 1fr; padding: 24px; }
  .rc-main__value { font-size: 3.5rem; }
  .prod__inner { flex-direction: column; text-align: center; }
  
  /* Ajustement bandeau SMS mobile */
  .tel-banner__form { flex-wrap: wrap; }
  .tel-banner__label { width: 100%; text-align: center; margin: 0 0 8px 0; }
  .tel-banner__input { flex: 1; }
}

/* Utilitaires */
.sr-only { position: absolute; width: 1px; height: 1px; overflow: hidden; clip: rect(0,0,0,0); }
.cookie-toast {
  position: fixed; bottom: 20px; right: 20px; width: 300px;
  background: #fff; padding: 20px; border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.15); z-index: 9999;
  font-size: 0.85rem; display: none; /* géré par JS */
}
.cookie-toast.is-visible { display: block; }
